# Анализы, которые не продавались за период

## Дано
Дана следующая структура таблиц:

![структура таблиц](https://github.com/Afonina-Olga/ItResumeSQL/blob/main/img/database7.png)

## Задание
Вывести название всех анализов, которые не продавались с 1 по 3 мая 2020 года.

## Столбцы в результате
```an_name```

**Важно:** Обратите внимание, что название столбцов в вашем ответе должно в точности совпадать с условием.

## Сортировка
Результат отсортируйте по возрастанию поля ```an_name```.

## Решение 1
```
WITH saled AS
  (SELECT a.an_name
   FROM Orders o
   LEFT JOIN Analysis a ON o.ord_an = a.an_id
   WHERE o.ord_datetime BETWEEN '2020-05-01' AND '2020-05-03')
SELECT DISTINCT an_name
FROM Analysis
EXCEPT
SELECT *
FROM saled
ORDER BY an_name
```

## Решение 2
```
SELECT a1.an_name
FROM Analysis a1
WHERE a1.an_id NOT IN
    (SELECT a.an_id
     FROM Orders o
     JOIN Analysis a ON a.an_id = o.ord_an
     WHERE ord_datetime BETWEEN '2020-05-01' AND '2020-05-03')
ORDER BY an_name
```