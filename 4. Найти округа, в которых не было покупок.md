# Найти округа, в которых не было покупок

## **Дано**

Дана следующая структура таблиц:
![Структура таблиц](https://github.com/Afonina-Olga/ItResumeSQL/blob/main/img/database4.png)

## **Задание**

Необходимо найти названия всех округов, жители которых никогда не совершали покупки в этом магазине.

## **Столбцы в результате**

- ```name``` - название округа

**Важно:** Обратите внимание, что название столбцов в вашем ответе должно в точности совпадать с условием.

## **Решение 1:**

``` SQL
WITH cte AS
  (SELECT DISTINCT co.county_code
   FROM c_orders o
   LEFT JOIN customer c ON o.id_customer = c.id_customer
   LEFT JOIN county co ON co.county_code = c.county_code
   WHERE co.county_code IS NOT NULL)
SELECT name
FROM county
WHERE county_code NOT IN
    (SELECT *
     FROM cte)
```

## **Решение 2:**
``` SQL
SELECT c.name
FROM county c
LEFT JOIN customer cu ON cu.county_code = c.county_code
LEFT JOIN c_orders o ON o.id_customer = cu.id_customer
WHERE o.date_order IS NULL
```